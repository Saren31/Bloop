<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="fr">
<head th:replace="~{fragments :: headLinks}">
    <title>Créer un post – Bloop</title>
    <link rel="stylesheet" th:href="@{/css/style.css}" />
</head>
<body class="d-flex flex-column min-vh-100">

<!-- Navbar -->
<div th:replace="~{fragments :: navbar}"></div>

<!-- Formulaire central -->
<main class="create-post-page flex-fill d-flex justify-content-center align-items-start pt-5">
    <div class="post-card glass-card">
        <h2>Créer un nouveau post</h2>

        <form th:action="@{/post/creer}"
              th:object="${post}"
              method="post"
              enctype="multipart/form-data">

            <div class="mb-4">
                <label for="textePost" class="form-label">Texte</label>
                <textarea id="textePost"
                          th:field="*{textePost}"
                          class="form-control"
                          rows="5"
                          placeholder="Qu’avez-vous à partager ?"></textarea>
            </div>

            <div class="mb-4">
                <label for="imageFile" class="form-label">Image (optionnel)</label>
                <input id="imageFile"
                       type="file"
                       th:field="*{imageFile}"
                       class="form-control" />
            </div>

            <button type="submit" class="btn btn-white w-100 mb-3">
                Publier
            </button>

            <div th:if="${error}" class="text-danger text-center mb-2" th:text="${error}"></div>
            <div th:if="${message}" class="text-success text-center" th:text="${message}"></div>
        </form>

        <a th:href="@{/profil/voirProfil}" class="btn btn-link d-block text-center mt-3">
            ← Retour au profil
        </a>
    </div>
</main>

<!-- Footer -->
<div th:replace="~{fragments :: footer}"></div>
<div th:replace="~{fragments :: scripts}"></div>
</body>
</html>
