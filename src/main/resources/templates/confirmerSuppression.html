<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="fr">
<head th:replace="~{fragments :: headLinks}">
    <title>Confirmer la suppression – Bloop</title>
    <link rel="stylesheet" th:href="@{/css/style.css}" />
</head>
<body class="d-flex flex-column min-vh-100">

<!-- Navbar -->
<div th:replace="~{fragments :: navbar}"></div>

<!-- Contenu centré -->
<main class="confirm-page flex-fill d-flex justify-content-center align-items-center py-5">
    <div class="confirm-card glass-card text-white">
        <h2 class="mb-3">Confirmation de suppression</h2>
        <p class="mb-4">Êtes-vous sûr de vouloir supprimer ce post ? Cette action est irréversible.</p>

        <div class="post-preview glass-card-sm mb-4">
            <p><strong>Contenu :</strong> <span th:text="${post.textePost}"></span></p>
            <div th:if="${post.imagePost != null}" class="text-center mt-2 mb-2">
                <img th:src="@{'/post/image/' + ${post.idPost}}"
                     alt="Image du post"
                     class="img-fluid rounded preview-img"/>
            </div>
            <p class="text-muted"><small>
                <strong>Date :</strong>
                <span th:text="${#dates.format(post.datePost,'dd/MM/yyyy HH:mm')}"></span>
            </small></p>
        </div>

        <div class="d-flex justify-content-between">
            <form th:action="@{'/post/' + ${post.idPost} + '/supprimer'}"
                  method="post"
                  class="me-2">
                <input type="hidden" name="_method" value="delete"/>
                <button type="submit" class="btn btn-white w-100">
                    ✅ Oui, supprimer
                </button>
            </form>
            <a th:href="@{/profil/voirProfil}"
               class="btn btn-link cancel-link align-self-center">
                ❌ Annuler
            </a>
        </div>
    </div>
</main>

<div th:replace="~{fragments :: footer}"></div>
<div th:replace="~{fragments :: scripts}"></div>
</body>
</html>
