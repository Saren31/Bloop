<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="fr">
<head>
    <title>Connexion</title>
    <th:block th:replace="~{fragments :: headLinks}" />
</head>
<body class="d-flex flex-column min-vh-100">

<!-- Section centrée pour le formulaire -->
<main class="login-page flex-fill">
    <div class="login-card">
        <h2>Connexion</h2>
        <form th:action="@{/auth/login}" method="post">
            <label for="username" class="form-label">Email</label>
            <input id="username" type="text" name="username"
                   class="form-control" required autofocus />

            <label for="password" class="form-label">Mot de passe</label>
            <input id="password" type="password" name="password"
                   class="form-control" required />

            <button type="submit" class="btn btn-primary">Se connecter</button>
        </form>

        <a th:href="@{/auth/register}" class="register-link">Pas encore de compte ? Inscrivez-vous</a>

        <div class="text-center text-danger mt-3">
            <p th:if="${param.error != null and (param.email_not_verified == null or !param.email_not_verified.contains('true'))}">Identifiants invalides</p>
            <p th:if="${param.email_not_verified != null and param.email_not_verified.contains('true')}">Veuillez vérifier votre compte avant de vous connecter</p>
            <p th:if="${param.logout != null}">Déconnecté avec succès</p>
        </div>
    </div>
</main>

<!-- Footer & scripts -->
<div th:replace="fragments :: footer"></div>
<div th:replace="fragments :: scripts"></div>
</body>
</html>
