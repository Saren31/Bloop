<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      lang="fr">
<head>
    <title>Accueil – Bloop</title>
    <!-- On insère les meta/link  -->
    <th:block th:replace="fragments :: headLinks" />
</head>
<body class="d-flex flex-column min-vh-100">
<!-- Navbar -->
<th:block th:replace="fragments :: navbar" />

<!-- Hero / Jumbotron -->
<section class="jumbotron text-center py-5 mx-3 mt-5">
    <div class="container">
        <h1 class="display-5">Bienvenue sur Bloop</h1>
        <p class="lead text-light">
            Partagez vos pensées, discutez avec vos amis, et rejoignez des groupes qui vous passionnent.
        </p>

        <!-- Anonyme : Inscription / Connexion -->
        <div sec:authorize="isAnonymous()" class="d-flex justify-content-center gap-3">
            <a class="btn btn-primary btn-lg" th:href="@{/auth/register}">Inscription</a>
            <a class="btn btn-light btn-lg" th:href="@{/login}">Connexion</a>
        </div>

        <!-- Authentifié : Mon Profil / Déconnexion -->
        <div sec:authorize="isAuthenticated()" class="d-flex justify-content-center gap-3">
            <a class="btn btn-primary btn-lg" th:href="@{/profil/voirProfil}">
                <i class="bi bi-person-circle me-1"></i> Mon Profil
            </a>
            <form th:action="@{/auth/logout}" method="post" class="d-inline">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                <button class="btn btn-secondary btn-lg">
                    <i class="bi bi-box-arrow-right me-1"></i> Se déconnecter
                </button>
            </form>
        </div>
    </div>
</section>

<!-- Feed + Sidebar -->
<main class="container my-4 flex-fill main-content">
    <!-- ... ton feed ... -->
</main>

<!-- Footer & scripts -->
<th:block th:replace="fragments :: footer" />
<th:block th:replace="fragments :: scripts" />
</body>
</html>
